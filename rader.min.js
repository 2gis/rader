'use strict';(function(C,w){function ba(f){function C(){return!1}function R(a){x(document,"selectstart",C,a?"off":"on")}function D(a){for(var d=-1/0,b=0,c=a.length;b<c;b++)d<a[b]&&(d=a[b]);return d}function B(a){for(var d=1/0,b=0,c=a.length;b<c;b++)d>a[b]&&(d=a[b]);return d}function E(a){100<a&&(a=100);0>a&&(a=0);return a}function n(a){F[a]===w&&(F[a]=E(100*((a-y)/M)));return F[a]}function s(a){G[a]===w&&(G[a]=a/100*M+y);return G[a]}function N(a){var d=k[0],b=k[k.length-1];if(!k)return a;for(var c=
0;g[c+1]&&!(a>=g[c]&&a<=g[c+1]);)c++;var e=g[c],t=g[c+1]||e,m=k[c],c=k[c+1]||m;0>=t-e&&(t=H,e=y);a="log"==f.scale?Math.exp((a-e)/(t-e)*(Math.log(c)-Math.log(m))+Math.log(m)):(a-e)/(t-e)*(c-m)+m;return a<d?d:a>b?b:a}function S(a){var d=g[0],b=g[g.length-1];if(!g)return a;for(var c=0;k[c+1]&&!(a>=k[c]&&a<=k[c+1]);)c++;c==k.length-1&&c--;var e=k[c],t=k[c+1],m=g[c],c=g[c+1];a="log"==f.scale?(Math.log(a)-Math.log(e))/(Math.log(t)-Math.log(e))*(c-m)+m:(a-e)/(t-e)*(c-m)+m;return a<d?d:a>b?b:a}function T(a){for(var d=
a,b,c,e=9999,f=0;f<g.length;f++)c=n(g[f]),b=Math.abs(c-a),b<e&&(d=c,e=b);return d}function U(a,d){var b,c,e,k=1/0,m=a;b=T(a);var h=100*f.stickingRadius/z;e=Math.abs(b-a);if(e>h)return a;for(var l=0;l<g.length;l++)b=n(g[l]),c=Math.abs(b-a),b*d>a*d&&c<k&&(k=c,m=b);if(k<h)return m;if(k>=h)return a=E(a-e*d+h*d),Math.abs(m-a)<h?m:a}function I(a,d,b){var c;if(b>e[a])c=1;else if(b<e[a])c=-1;else return!1;b=E(b);a!=d&&(b=U(b,c));var g=T(b),h=100*f.stickingRadius/z;g!==w&&g!==b&&Math.abs(g-b)<h&&(!O&&f.transCls&&
(p(P).addClass(f.transCls),O=setTimeout(function(){p(P).removeClass(f.transCls);O=w},500)),b=g);g=100*f.bumpRadius/z;e[d+1*c]!==w&&(e[d+1*c]-b<g&&0<c||b-e[d+1*c]<g&&0>c)&&(a=I(a,d+1*c,b+c*g),b*c>(a-g*c)*c&&(b=U(a-g*c,-c)));e[d]=b;c={};c[q.start]=e[d]+"%";p(J[d]).css(c);return b}function K(a){if(f.pointInRangeCls){var d=A.slice(),b;for(b=0;b<L.length;b++)n(g[b])>=e[0]&&n(g[b])<=e[e.length-1]?A[b]=1:A[b]=0;for(b=0;b<A.length;b++)if(A[b]!=d[b]||a)A[b]?p(L[b]).addClass(f.pointInRangeCls):p(L[b]).removeClass(f.pointInRangeCls)}a=
{};a[q.start]=B(e)+"%";a[q.size]=D(e)-B(e)+"%";p(V).css(a);if(f.onUpdate)f.onUpdate({d:B(e),b:D(e),e:s(B(e)),c:s(D(e))})}function W(a,d){if(a){for(var b=(a.clientX-X)*(100/z),b=n(h[r])+b,c=0;c<e.length;c++)Q[c]=e[c];I(r,r,E(b))}a:if(e.length!=Q.length)b=!1;else{for(b=0;b<e.length;b++)if(e[b]!==Q[b]){b=!1;break a}b=!0}b&&!d||K(d)}function Y(){var a=B(e),d=D(e),b=N(s(a)),c=N(s(d));f.collapseVals&&d-a<100*f.bumpRadius/z+1E-5&&(100==d?b=c:0==a?c=b:e[r]===a?c=b:b=c);return{minPos:a,maxPos:d,minVal:b,maxVal:c}}
function Z(){f.move&&f.move(Y())}function $(){z=P[q.a];F=[];G=[];var a,d;for(d=0;d<g.length;d++)a={},a[q.start]=n(g[d])+"%",p(L[d]).css(a);for(d=0;d<h.length;d++)a={},e[d]=n(h[d]),a[q.start]=e[d]+"%",p(J[d]).css(a);d=n(h[0]);var b=n(h[h.length-1]);a={};a[q.start]=d+"%";a[q.size]=Math.abs(b-d)+"%";p(V).css(a)}var M,z,q={start:"left",a:"clientWidth",offset:"offsetWidth",size:"width"},l,x,p,X,r=-1,h=[],e=[],Q=[],A=[];this.elements={};x=f.event||function(a,d,b,c){aa(a)[c||"on"](d,b)};p=f.dom||aa;var P=
f.root[0],V=f.trackActive,L=f.points,J=f.runners;l={stickingRadius:0,bumpRadius:J[0][q.offset],points:[],pointsPos:[0,10],runnersPos:[]};for(var u in l)f[u]===w&&(f[u]=l[u]);var g=f.pointsPos,v=f.runnersPos;u=f.runnersVal;var y=f.start,H=f.end,k=f.values,y=g[0],H=g[g.length-1];k||(k=g);if(u&&!v.length)for(l=0;l<u.length;l++)v[l]=S(u[l]);v.length||(v=[y,H]);M=Math.abs(H-y);var F=[],G=[],O;for(l=0;l<v.length;l++)x(J[l],"mousedown",function(a){return function(d){2!=d.button&&(d.preventDefault(),R(),
r=a)}}(l));(function(){h=v.slice();for(var a=0;a<v.length;a++)e[a]=n(h[a])})();$();W(0,1);x(document,"mouseup blur",function(){if(-1!=r){for(var a=0,d=h.length;a<d;a++)h[a]=s(e[a]);f.change&&f.change(Y());R(1)}r=-1});x(document,"mousedown",function(a){X=a.clientX});x(document,"mousemove",function(a){-1!=r&&(W(a,0),Z())});this.setPosition=function(a,d){var b=n(d);I(a,a,b);for(b=0;b<e.length;b++)h[b]=s(e[b]);K(1)};this.setValue=function(a,d){var b=S(d),b=n(b);I(a,a,b);for(b=0;b<e.length;b++)h[b]=s(e[b]);
K(1)};this.getPosition=function(a){return h[a]};this.getValue=function(a){return N(h[a])};this.invalidate=function(){$();K(1);Z()};return this}var aa=C.$;C.$.fn.rader=function(f){f=f||{};f.root=f.root||this;return new ba(f)}})(window);
