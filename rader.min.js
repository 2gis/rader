/*! rader 11-12-2013 */
!function(a,b){var c=a.jQuery,d=a.DEBUG,e=function(a){return a=a||{},a.root=a.root||this,c=a.$||c,new g(a)};if(d)var f=function(a){throw new Error(a)};var g=function(a){function e(){return!1}function g(a){D(document,"selectstart",e,a?"off":"on")}function h(a){for(var b=-1/0,c=0,d=a.length;d>c;c++)b<a[c]&&(b=a[c]);return b}function i(a){for(var b=1/0,c=0,d=a.length;d>c;c++)b>a[c]&&(b=a[c]);return b}function j(a,b){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}function k(a){return a>100&&(a=100),0>a&&(a=0),a}function l(c){return R[c]===b&&(R[c]=k(100*((c-a.start)/A))),R[c]}function m(c){return S[c]===b&&(S[c]=c/100*A+a.start),S[c]}function n(b){var c=a.values[0],d=a.values[a.values.length-1];if(!a.values)return b;for(var e=0;a.pointsPos[e+1]&&!(b>=a.pointsPos[e]&&b<=a.pointsPos[e+1]);)e++;var f,g=a.pointsPos[e],h=a.pointsPos[e+1]||g,i=a.values[e],j=a.values[e+1]||i;return 0>=h-g&&(h=a.end,g=a.start),f="log"==a.scale?Math.exp((b-g)/(h-g)*(Math.log(j)-Math.log(i))+Math.log(i)):(b-g)/(h-g)*(j-i)+i,c>f?c:f>d?d:f}function o(b){var c=a.pointsPos[0],d=a.pointsPos[a.pointsPos.length-1];if(!a.pointsPos)return b;for(var e=0;a.values[e+1]&&!(b>=a.values[e]&&b<=a.values[e+1]);)e++;e==a.values.length-1&&e--;var f,g=a.values[e],h=a.values[e+1],i=a.pointsPos[e],j=a.pointsPos[e+1];return f="log"==a.scale?(Math.log(b)-Math.log(g))/(Math.log(h)-Math.log(g))*(j-i)+i:(b-g)/(h-g)*(j-i)+i,c>f?c:f>d?d:f}function p(b){for(var c,d,e=b,f=9999,g=0;g<a.pointsPos.length;g++)d=l(a.pointsPos[g]),c=Math.abs(d-b),f>c&&(e=d,f=c);return e}function q(b,c){var d,e,f,g=1/0,h=b,i=p(b),j=100*a.stickingRadius/B;if(f=Math.abs(i-b),f>j)return b;for(var m=0;m<a.pointsPos.length;m++)d=l(a.pointsPos[m]),e=Math.abs(d-b),d*c>b*c&&g>e&&(g=e,h=d);return j>g?h:g>=j?(b=k(b-f*c+j*c),Math.abs(h-b)<j?h:b):void 0}function r(c,d,e){function f(a){return a+1*g}var g;if(e>M[c])g=1;else{if(!(e<M[c]))return!1;g=-1}e=k(e),c!=d&&(e=q(e,g));var h=p(e),i=100*a.stickingRadius/B;h!==b&&h!==e&&Math.abs(h-e)<i&&(!Q&&a.transCls&&(E(I.track).addClass(a.transCls),Q=setTimeout(function(){E(I.track).removeClass(a.transCls),Q=b},500)),e=h);var j=100*a.bumpRadius/B;if(M[f(d)]!==b&&(M[f(d)]-e<j&&g>0||e-M[f(d)]<j&&0>g)){var l=r(c,f(d),e+g*j);e*g>(l-j*g)*g&&(e=q(l-j*g,-g))}M[d]=e;var m={};return m[J.start]=M[d]+"%",E(I.runners[d]).css(m),e}function s(b){if(a.pointInRangeCls){var c,d=O.slice();for(c=0;c<I.points.length;c++)O[c]=l(a.pointsPos[c])>=M[0]&&l(a.pointsPos[c])<=M[M.length-1]?1:0;for(c=0;c<O.length;c++)(O[c]!=d[c]||b)&&(O[c]?E(I.points[c]).addClass(a.pointInRangeCls):E(I.points[c]).removeClass(a.pointInRangeCls))}}function t(b){s(b);var c={};c[J.start]=i(M)+"%",c[J.size]=h(M)-i(M)+"%",E(I.trackActive).css(c),a.onUpdate&&a.onUpdate({minPos:i(M),maxPos:h(M),minVal:m(i(M)),maxVal:m(h(M))})}function u(a,b){if(a){var c,d=100/B,e=(a.clientX-G)*d;c=l(L[K])+e;for(var f=0;f<M.length;f++)N[f]=M[f];r(K,K,k(c))}(!j(M,N)||b)&&t(b)}function v(){var b=i(M),c=h(M),d=n(m(b)),e=n(m(c));if(a.collapseVals){var f=100*a.bumpRadius/B;f+1e-5>c-b&&(100==c?d=e:0==b?e=d:M[K]===b?e=d:d=e)}return{minPos:b,maxPos:c,minVal:d,maxVal:e}}function w(){a.change&&a.change(v())}function x(){a.move&&a.move(v())}function y(){L=a.runnersPos.slice();for(var b=0;b<a.runnersPos.length;b++)M[b]=l(L[b])}function z(){B=I.track[J.client],R=[],S=[];var b,c;for(c=0;c<a.pointsPos.length;c++)b={},b[J.start]=l(a.pointsPos[c])+"%",E(I.points[c]).css(b);for(c=0;c<L.length;c++)b={},M[c]=l(L[c]),b[J.start]=M[c]+"%",E(I.runners[c]).css(b);var d=l(L[0]),e=l(L[L.length-1]);b={},b[J.start]=d+"%",b[J.size]=Math.abs(e-d)+"%",E(I.trackActive).css(b)}var A,B,C,D,E,F,G,H,I={},J={start:"left",client:"clientWidth",offset:"offsetWidth",size:"width"},K=-1,L=[],M=[],N=[],O=[];this.elements=I,this.params=a,D=a.event||function(a,b,d,e){c(a)[e||"on"](b,d)},E=a.dom||c,F=a.selector||c,I.track=a.root[0],I.trackActive=a.trackActive,I.points=a.points,I.runners=a.runners,C={stickingRadius:0,bumpRadius:I.runners[0][J.offset],points:[],pointsPos:[0,10],runnersPos:[]};for(var P in C)a[P]===b&&(a[P]=C[P]);if(a.start=a.pointsPos[0],a.end=a.pointsPos[a.pointsPos.length-1],a.values||(a.values=a.pointsPos),a.runnersVal&&!a.runnersPos.length)for(H=0;H<a.runnersVal.length;H++)a.runnersPos[H]=o(a.runnersVal[H]);a.runnersPos.length||(a.runnersPos=[a.start,a.end]),A=Math.abs(a.end-a.start),d&&(a.runners.length!=I.runners.length&&f("params.runners.length !== elements.runners.length"),F||f("No selector engine found"),E||f("No dom utility found"),D||f("No event manager found"));var Q,R=[],S=[];for(H=0;H<a.runnersPos.length;H++)D(I.runners[H],"mousedown",function(a){return function(b){2!=b.button&&(b.preventDefault(),g(),K=a)}}(H));return y(),z(),u(0,1),D(document,"mouseup blur",function(){if(-1!=K){for(var a=0,b=L.length;b>a;a++)L[a]=m(M[a]);w(),g(1)}K=-1}),D(document,"mousedown",function(a){G=a.clientX}),D(document,"mousemove",function(a){-1!=K&&(u(a,0,1),x())}),this.setPosition=function(a,b){var c=l(b);r(a,a,c);for(var d=0;d<M.length;d++)L[d]=m(M[d]);t(1)},this.setValue=function(a,b){var c=o(b),d=l(c);r(a,a,d);for(var e=0;e<M.length;e++)L[e]=m(M[e]);t(1)},this.getPosition=function(a){return L[a]},this.getValue=function(a){return n(L[a])},this.invalidate=function(){z(),t(1),x()},this};c&&c.fn&&(c.fn.rader=e),a.rader=e}(window);