'use strict';(function(M,n,N){function O(g){function F(a,c){var b=a[h.clientX]||(((a.originalEvent||a).touches||[])[0]||{})[h.pageX];if(c)var d=c.getBoundingClientRect(),b=b-d[h.start];return b}function X(a){if(a)n(document).on("selectstart.rader",function(){return!1});else n(document).off("selectstart.rader")}function A(a){return Math.min.apply(Math,a)}function G(a){100<a&&(a=100);0>a&&(a=0);return a}function p(a){null==H[a]&&(H[a]=G((a-x)/P*100));return H[a]}function y(a){null==I[a]&&(I[a]=a/100*
P+x);return I[a]}function B(a){var c=k[0],b=k[k.length-1];if(!k)return a;for(var d=0;l[d+1]&&!(a>=l[d]&&a<=l[d+1]);)d++;var e=l[d],f=l[d+1]||e,C=k[d],d=k[d+1]||C,h;0>=f-e&&(f=J,e=x);"log"==g.scale?h=Math.exp((a-e)/(f-e)*(Math.log(d)-Math.log(C))+Math.log(C)):h=(a-e)/(f-e)*(d-C)+C;return h<c?c:h>b?b:h}function Y(a){if(!l)return a;for(var c=l[0],b=l[l.length-1],d=0;k[d+1]&&!(a>=k[d]&&a<=k[d+1]);)d++;d==k.length-1&&d--;var e=k[d],f=k[d+1],h=l[d],d=l[d+1];a="log"==g.scale?(Math.log(a)-Math.log(e))/(Math.log(f)-
Math.log(e))*(d-h)+h:(a-e)/(f-e)*(d-h)+h;return a<c?c:a>b?b:a}function Q(a,c,b){var d=a,e,f,h=-1,k=1/0;c=c||l;for(var m=0;m<c.length;m++)f="pc"==b?c[m]:p(c[m]),e=Math.abs(f-a),!(e<k)||g.runnersFreeze&&g.runnersFreeze[m]||(d=f,k=e,h=m);return{index:h,a:d}}function Z(a,c){var b,d,e,f=1/0,h=a;b=Q(a).a;var k=100*g.stickingRadius/r;e=Math.abs(b-a);if(e>k)return a;for(var m=0;m<l.length;m++)b=p(l[m]),d=Math.abs(b-a),b*c>a*c&&d<f&&(f=d,h=b);if(f<k)return h;if(f>=k)return a=G(a-e*c+k*c),Math.abs(h-a)<k?h:
a}function D(a,c,b){var d;if(g.runnersFreeze&&g.runnersFreeze[c])return e[c];if("init"==R)d=1;else{d=e[a]||0;if(b>d)d=1;else if(b<d)d=-1;else return!1;b=G(b);a!=c&&(b=Z(b,d))}var f=Q(b).a,k=100*g.stickingRadius/r;f!==N&&f!==b&&Math.abs(f-b)<k&&(!S&&g.transCls&&(q(t).addClass(g.transCls),S=setTimeout(function(){q(t).removeClass(g.transCls);S=N},500)),b=f);f=100*g.bumpRadius/r;e[c+1*d]!==N&&(e[c+1*d]-b<f&&0<d||b-e[c+1*d]<f&&0>d)&&(a=D(a,c+1*d,b+d*f),b*d>(a-f*d)*d&&(b=Z(a-f*d,-d)));e[c]=b;a={};a[h.start]=
e[c]+"%";q(E[c]).css(a);return b}function K(a){if(g.pointInRangeCls){var c=z.slice(),b;for(b=0;b<L.length;b++)p(l[b])>=e[0]&&p(l[b])<=e[e.length-1]?z[b]=1:z[b]=0;for(b=0;b<z.length;b++)if(z[b]!=c[b]||a)z[b]?q(L[b]).addClass(g.pointInRangeCls):q(L[b]).removeClass(g.pointInRangeCls)}a={};a[h.start]=A(e)+"%";a[h.size]=Math.max.apply(Math,e)-A(e)+"%";q(aa).css(a);if(g.onUpdate)g.onUpdate({minPos:A(e),maxPos:Math.max.apply(Math,e),minVal:B(y(A(e))),maxVal:B(y(Math.max.apply(Math,e)))})}function T(a,c){if(null!=
a){var b=100/r*(a-ba);a=p(m[u])+b;for(b=0;b<e.length;b++)U[b]=e[b];D(u,u,G(a))}a:if(e.length!=U.length)b=!1;else{for(b=0;b<e.length;b++)if(e[b]!==U[b]){b=!1;break a}b=!0}b&&!c||K(c)}function ca(){var a=A(e),c=Math.max.apply(Math,e),b=B(y(a)),d=B(y(c));g.collapseVals&&c-a<100*g.bumpRadius/r+1E-5&&(100==c?b=d:0==a?d=b:e[u]===a?d=b:b=d);return{minPos:a,maxPos:c,minVal:b,maxVal:d}}function da(){g.change&&g.change(ca())}function V(){g.move&&g.move(ca())}function ea(){r=t[h.client];H=[];I=[];var a,c;for(c=
0;c<l.length;c++)a={},a[h.start]=p(l[c])+"%",q(L[c]).css(a);for(c=0;c<m.length;c++)a={},e[c]=p(m[c]),a[h.start]=e[c]+"%",q(E[c]).css(a);c=p(m[0]);var b=p(m[m.length-1]);a={};a[h.start]=c+"%";a[h.size]=Math.abs(b-c)+"%";q(aa).css(a)}function W(){for(var a=0,c=m.length;a<c;a++)m[a]=y(e[a])}var M=this,P,r,fa=g.direction||"-",h=ha[fa],f,q,ba,u=-1,m=[],e=[],U=[],z=[];R="init";this.elements={};q=g.dom||n;var t=g.root[0],E=n(g.runners);f={stickingRadius:0,bumpRadius:E[0][h.offset],points:[],pointsPos:[0,
10],runnersPos:[]};for(var w in f)null==g[w]&&(g[w]=f[w]);var ga=g.track,aa=g.trackActive,L=g.points,l=g.pointsPos,v=g.runnersPos;w=g.runnersVal;var x,J,k=g.values;x=l[0];J=l[l.length-1];k||(k=l);for(f=0;f<k.length;f++)k[f]=+k[f];if(2==k.length&&2<l.length){var O=(k[1]-k[0])/(l[l.length-1]-l[0]);for(f=1;f<l.length;f++)k[f]=k[0]+(l[f]-l[0])*O}if(w&&!v.length)for(f=0;f<w.length;f++)v[f]=Y(w[f]);v.length||(v=[x,J]);P=Math.abs(J-x);var H=[],I=[],S;n(document).on("mouseup.rader blur.rader touchend.rader",
function(){-1!=u&&(W(),da(),X(1),u=-1)});n(document).on("mousedown.rader touchstart.rader",function(a){r=t[h.client];ba=F(a)});n(document).on("mousemove.rader touchmove.rader",function(a){-1!=u&&(a=F(a),T(a,0),V())});if(g.click)n(ga||t).on("click.rader",function(a){for(var c,b=0;b<g.runners.length&&!c;b++)c=a.target==g.runners[b]||a.target.parentNode==g.runners[b];c||(c=F(a,this)/this[h.client]*100,b=Q(c,e,"pc"),D(b.index,b.index,c),a=F(a),T(a,1),W(),V(),da())});this.pos=function(a,c){if(null!=c){var b=
p(c);D(a,a,b);W();K(1);return this}return m[a]};this.val=function(a,c){if(null!=c){var b=p(Y(c));D(a,a,b);for(b=0;b<e.length;b++)m[b]=y(e[b]);K(1);return this}return B(m[a])};this.invalidate=function(){ea();K(1);V()};this.dispose=function(){n(document).off("rader");n(E).off("rader");n(ga).off("rader");n(t).off("rader")};for(f=0;f<v.length;f++)n(E[f]).on("mousedown.rader touchstart.rader",function(a){return function(c){2!=c.button&&(c.preventDefault(),X(),u=a)}}(f));(function(){r=t[h.client];m=v.slice();
for(var a=0;a<v.length;a++)e[a]=p(m[a]);for(a=0;a<v.length;a++)M.pos(a,m[a]),e[a]=p(m[a])})();ea();T(null,1);R="ready";n(t)[0].setAttribute("data-rader-inited",fa);return this}var R,ha={"-":{start:"left",b:"offsetLeft",client:"clientWidth",offset:"offsetWidth",size:"width",clientX:"clientX",pageX:"pageX"},"|":{start:"top",b:"offsetTop",client:"clientHeight",offset:"offsetHeight",size:"height",clientX:"clientY",pageX:"pageY"}};M.$.fn.rader=function(g){g=g||{};g.root=g.root||this;return new O(g)}})(window,
$);
//# sourceMappingURL=rader.min.js.map
